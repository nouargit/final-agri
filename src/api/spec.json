{"servers":[{"url":"https://template-lemon-nine.vercel.app/api"}],"info":{"title":"API Reference","version":"0.0.0"},"openapi":"3.1.1","paths":{"/auth/send-otp":{"post":{"operationId":"auth.sendOTP","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"}},"required":["email"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"const":"OTP sent successfully."}},"required":["message"]}}}}}}},"/auth/verify-otp":{"post":{"operationId":"auth.verifyOTP","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","format":"email"},"code":{"type":"string","minLength":6,"maxLength":6}},"required":["email","code"]}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]}}}},"400":{"description":"400","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"INVALID_OTP"},"status":{"const":400},"message":{"type":"string","default":"The provided one-time password is invalid or has expired."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}},"/auth/logout":{"get":{"operationId":"auth.logout","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"const":"Logged out successfully."}},"required":["message"]}}}}}}},"/me":{"get":{"operationId":"me.getMe","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"session":{"type":"object","properties":{"id":{"type":"string"},"userWithInfo":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string","format":"email"},"fullname":{"anyOf":[{"type":"string"},{"type":"null"}]},"phone":{"anyOf":[{"type":"string"},{"type":"null"}]},"role":{"anyOf":[{"enum":["producer","buyer","transporter"]},{"type":"null"}]},"producer":{"anyOf":[{"type":"object","properties":{"wilayaId":{"type":"number"},"cityId":{"type":"number"},"address":{"type":"string"},"farmerLicenseNumber":{"type":"string"}},"required":["wilayaId","cityId","address","farmerLicenseNumber"]},{"type":"null"}]},"transporter":{"anyOf":[{"type":"object","properties":{"licenseNumber":{"type":"string"},"plateNumber":{"type":"string"},"vehicleType":{"enum":["CAR","MOTORCYCLE","TRUCK","VAN","REFRIGERATED_TRUCK","REFRIGERATED_VAN"]},"loadCapacityInKg":{"type":"number"},"vehiclePhoto":{"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["licenseNumber","plateNumber","vehicleType","loadCapacityInKg","vehiclePhoto"]},{"type":"null"}]},"buyer":{"anyOf":[{"type":"object"},{"type":"null"}]},"createdAt":{"type":"string","format":"date-time","x-native-type":"date"},"updatedAt":{"type":"string","format":"date-time","x-native-type":"date"}},"required":["id","email","fullname","phone","role","producer","transporter","buyer","createdAt","updatedAt"]},"createdAt":{"type":"string","format":"date-time","x-native-type":"date"},"lastVerifiedAt":{"type":"string","format":"date-time","x-native-type":"date"}},"required":["id","userWithInfo","createdAt","lastVerifiedAt"]}},"required":["session"]}}}},"401":{"description":"401","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"defined":{"const":true},"code":{"const":"UNAUTHORIZED"},"status":{"const":401},"message":{"type":"string","default":"You must be logged in to access this resource."},"data":{}},"required":["defined","code","status","message"]},{"type":"object","properties":{"defined":{"const":false},"code":{"type":"string"},"status":{"type":"number"},"message":{"type":"string"},"data":{}},"required":["defined","code","status","message"]}]}}}}}}}}}